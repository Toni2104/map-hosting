<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Test WebApp</title>
  <!-- Подключаем Telegram Web App JS -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <!-- Кнопка с onclick -->
  <button id="sendBtn" onclick="sendData()">Отправить</button>

  <script>
    // Ссылка на объект Telegram WebApp (если открыт во встроенном браузере Телеграма)
    const tg = window.Telegram?.WebApp;

    // Функция, которую вызываем по нажатию кнопки
    function sendData() {
      if (!tg) {
        alert("Открыто не в Telegram WebView!");
        return;
      }

      const data = { foo: "bar", time: Date.now() };
      tg.sendData(JSON.stringify(data));

      // Не вызываем tg.close(), чтобы окно не закрывалось автоматически
    }
  </script>
</body>
</html>

</html>
